"use strict";(self.webpackChunkarhbase=self.webpackChunkarhbase||[]).push([[351],{4598:(e,n,o)=>{o.r(n),o.d(n,{default:()=>c});var r=o(6540),i=o(9795);const t=JSON.parse('[{"id":1,"name":"\u0423\u0441\u043f\u0435\u043d\u0441\u043a\u0430\u044f \u0446\u0435\u0440\u043a\u043e\u0432\u044c","location":[49.9532,82.6032],"locationnow":"\u0421\u043d\u0435\u0433\u0438\u0440\u0435\u0432\u043e","type":"\u041f\u0440\u0430\u0432\u043e\u0441\u043b\u0430\u0432\u043d\u0430\u044f","foundationYear":1850,"parish":{"villages":[{"name":"\u0441\u0435\u043b\u043e \u0421\u043d\u0435\u0433\u0438\u0440\u0435\u0432\u043e","location":[49.955,82.6]},{"name":"\u0434\u0435\u0440\u0435\u0432\u043d\u044f \u0412\u0442\u043e\u0440\u0430\u044f","location":[49.95,82.605]}]},"history":"\u0426\u0435\u0440\u043a\u043e\u0432\u044c \u0431\u044b\u043b\u0430 \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0430 \u0432 1850 \u0433\u043e\u0434\u0443 \u043d\u0430 \u043f\u043e\u0436\u0435\u0440\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u0436\u0438\u0442\u0435\u043b\u0435\u0439.","documents":[{"title":"\u041c\u0435\u0442\u0440\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043d\u0438\u0433\u0430 \u0437\u0430 1900 \u0433\u043e\u0434","url":"/docs/1900-metricheskaya-kniga.pdf"}]},{"id":2,"name":"\u0425\u0440\u0430\u043c \u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u0438\u044f \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","location":[49.955,82.61],"locationnow":"\u041a\u0440\u0435\u0441\u0442\u043e\u0432\u043a\u0430","type":"\u041f\u0440\u0430\u0432\u043e\u0441\u043b\u0430\u0432\u043d\u0430\u044f","foundationYear":1875,"parish":{"villages":[]},"history":"\u0425\u0440\u0430\u043c \u0431\u044b\u043b \u043e\u0441\u043d\u043e\u0432\u0430\u043d \u0432 1875 \u0433\u043e\u0434\u0443. \u0412 \u0441\u043e\u0432\u0435\u0442\u0441\u043a\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0441\u044f \u043a\u0430\u043a \u0441\u043a\u043b\u0430\u0434.","documents":[{"title":"\u041f\u043b\u0430\u043d \u0440\u0435\u0441\u0442\u0430\u0432\u0440\u0430\u0446\u0438\u0438","url":"/docs/restavraciya-hram-ustkamenogorsk.pdf"}]}]');var s=o(4848);const l=e=>{let{onChurchClick:n}=e;const[o,i]=(0,r.useState)(""),[l,a]=(0,r.useState)([]),c=e=>{if(!e)return"";const n=e.toLowerCase().replace(/\u0441\u0435\u043b\u043e|\u0434\u0435\u0440\u0435\u0432\u043d\u044f|\u043f\u043e\u0441\u0435\u043b\u043e\u043a/g,"").trim();return console.log(`\u041e\u0447\u0438\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: "${n}" \u0438\u0437 \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430: "${e}"`),n},d=()=>{if(console.log("\u041a\u043d\u043e\u043f\u043a\u0430 \u041f\u043e\u0438\u0441\u043a \u043d\u0430\u0436\u0430\u0442\u0430"),!o.trim())return console.log("\u041f\u043e\u043b\u0435 \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u0443\u0441\u0442\u043e\u0435, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c \u0432\u0441\u0435 \u0446\u0435\u0440\u043a\u0432\u0438"),void a(t);const e=c(o);console.log(`\u041e\u0447\u0438\u0449\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441: "${e}"`);const n=t.filter((n=>{const o=c(n.name).includes(e),r=!!n.locationnow&&c(n.locationnow).includes(e),i=n.parish?.villages?.some((n=>c(n.name).includes(e)));return o||r||i}));a(n)};return(0,s.jsxs)("div",{className:"church-list container",children:[(0,s.jsx)("h2",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0446\u0435\u0440\u043a\u0432\u0435\u0439 \u0438 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u043f\u0443\u043d\u043a\u0442\u043e\u0432"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[(0,s.jsxs)("div",{style:{position:"relative",flex:"1"},children:[(0,s.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0446\u0435\u0440\u043a\u0432\u0438 \u0438\u043b\u0438 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430...",value:o,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&d()},style:{width:"100%",padding:"8px",paddingRight:o?"30px":"8px",boxSizing:"border-box",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"}}),o&&(0,s.jsx)("button",{onClick:()=>{i(""),a(t),console.log("\u041f\u043e\u0438\u0441\u043a \u0441\u0431\u0440\u043e\u0448\u0435\u043d")},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"16px",color:"#aaa"},children:"\xd7 "})]}),(0,s.jsx)("button",{onClick:d,style:{marginLeft:"10px",padding:"8px 16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"\u041f\u043e\u0438\u0441\u043a"})]}),l.length>0?l.map((e=>(0,s.jsxs)("div",{className:"church-item",children:[(0,s.jsx)("h3",{onClick:()=>n(e.location),style:{cursor:"pointer",color:"#007bff"},children:e.name}),(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"\u0422\u0438\u043f:"})," ",e.type]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"\u0414\u0430\u0442\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f:"})," ",e.foundationYear]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"})," ",e.locationnow||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"\u0418\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430:"})," ",e.history||"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"]}),(0,s.jsx)("p",{children:(0,s.jsx)("b",{children:"\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0443\u043d\u043a\u0442\u044b:"})}),e.parish?.villages?.length>0?(0,s.jsx)("ul",{children:e.parish.villages.map(((e,o)=>(0,s.jsx)("li",{onClick:()=>n(e.location),style:{cursor:"pointer",color:"#007bff"},children:e.name},o)))}):(0,s.jsx)("p",{children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u043f\u0443\u043d\u043a\u0442\u0430\u0445"}),(0,s.jsx)("p",{children:(0,s.jsx)("b",{children:"\u0410\u0440\u0445\u0438\u0432\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b:"})}),e.documents.length>0?e.documents.map(((e,n)=>(0,s.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.title},n))):(0,s.jsx)("p",{children:"\u041d\u0435\u0442 \u0430\u0440\u0445\u0438\u0432\u043d\u044b\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"})]},e.id))):(0,s.jsx)("p",{children:o.trim()?"\u0426\u0435\u0440\u043a\u0432\u0438 \u0438\u043b\u0438 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0443\u043d\u043a\u0442\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"})]})},a=()=>{const[e,n]=(0,r.useState)(null);(0,r.useEffect)((()=>{if("undefined"==typeof L)return;const e=L.map("map").setView([49.9532,82.6032],10);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xa9 OpenStreetMap contributors"}).addTo(e),n(e);const o=L.icon({iconUrl:"/img/church-icon.webp",iconSize:[50,50],iconAnchor:[16,32]});t.forEach((n=>{const r=`\n        <h3>${n.name}</h3>\n        <p><b>\u0422\u0438\u043f:</b> ${n.type}</p>\n        <p><b>\u041c\u0435\u0441\u0442\u043e \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435:</b> ${n.locationnow}</p>\n        <p><b>\u0414\u0430\u0442\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f:</b> ${n.foundationYear}</p>\n        <p><b>\u0418\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u043a\u0430:</b> ${n.history}</p>\n        <p><b>\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0443\u043d\u043a\u0442\u044b:</b></p>\n        <ul>\n          ${n.parish.villages.map((e=>`<li>${e.name}</li>`)).join("")}\n        </ul>\n        <p><b>\u0410\u0440\u0445\u0438\u0432\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b:</b></p>\n        ${n.documents.map((e=>`<a href="${e.url}" target="_blank">${e.title}</a>`)).join("<br>")}\n      `;L.marker(n.location,{icon:o}).addTo(e).bindPopup(r)}))}),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{id:"map",style:{width:"100%",height:"500px"}}),(0,s.jsx)(l,{onChurchClick:n=>{e&&e.setView(n,15)}})]})},c=()=>(0,s.jsx)(i.A,{children:(0,s.jsxs)("main",{children:[(0,s.jsx)("h1",{className:"center",children:"\u041a\u0430\u0440\u0442\u0430 \u0446\u0435\u0440\u043a\u0432\u0435\u0439"}),(0,s.jsx)(a,{})]})})}}]);